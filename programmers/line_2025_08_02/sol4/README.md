아래 네 가지 예제 입력·출력을 바탕으로 **문제 정리**, **풀이 전략**, **테스트 케이스 정리**를 해 보았습니다. 부족하거나 추가할 부분이 있으면 알려주세요! 😊

---

## 1. 문제 정리

**문제**

* 머신이 생성한 문자열 $S$ (길이 $N$), 플레이어가 가진 문자열 $P$ (길이 $M$)가 주어집니다.
* 플레이어는 $S$의 앞에서 임의의 위치 $k$ ($0 \le k < N$)만큼 건너뛴 뒤, 남은 부분과 $P$를 한 글자씩 가위바위보 대결합니다.
* 남은 $S$의 길이가 $M$보다 짧으면, 가능한 만큼만 비교합니다.
* **승리 규칙**:

    * $R$ vs $S$ → 플레이어 승
    * $S$ vs $P$ → 플레이어 승
    * $P$ vs $R$ → 플레이어 승
* 비기거나 패배한 판은 승수에 포함되지 않습니다.

**목표**

* 가능한 모든 시작 위치 $k$에 대해 플레이어가 이긴 횟수를 계산하고, 그 중의 최댓값을 출력하세요.

**입력 형식**

```
N M
S   // 길이 N, 문자 ‘R’,‘S’,‘P’로만 구성
P   // 길이 M, 문자 ‘R’,‘S’,‘P’로만 구성
```

**출력 형식**

```
최댓값  // 플레이어가 이길 수 있는 판수의 최댓값
```

**제약**

* $1 \le N, M \le 100\,000$
* 시간 제한: 10초, 메모리: 2 GB
* $O(N\times M)$ 풀이로는 불가능

---

## 2. 풀이 전략

1. **승리 조건별 매핑**

    * 세 가지 경우를 각각 계산해야 함

        1. 머신이 ‘R’이고 플레이어가 ‘S’ → 플레이어 승
        2. 머신이 ‘S’이고 플레이어가 ‘P’ → 플레이어 승
        3. 머신이 ‘P’이고 플레이어가 ‘R’ → 플레이어 승

2. **이진 배열 변환 & 컨볼루션**

    * 예를 들어 “머신이 ‘R’인 위치”를 1로 표시한 배열 $A$, “플레이어가 ‘S’인 위치”를 1로 표시한 배열 $B$를 만든 뒤
    * $B$를 역순(reverse)으로 뒤집고, $A$와 $B$의 컨볼루션(convolution)을 수행하면

      $$
      (A * B)[k] = k\text{ 위치에서 플레이어가 이긴 횟수}
      $$
    * 이 작업을 위의 세 경우에 대해 각각 수행한 뒤, 세 결과 배열의 원소별 합(또는 최대)에서 최댓값을 구함.

3. **고속 컨볼루션**

    * $N, M \le 10^5$이므로 FFT/NTT를 이용한 $O((N+M)\log(N+M))$ 컨볼루션 필요
    * 구현 세부사항

        * 변환 길이를 $2^k$로 맞추기 (zero-padding)
        * NTT 초기화 → forward transform → pointwise 곱 → inverse transform
        * 정수 모듈로 연산 주의

4. **최종 답 구하기**

    * 세 컨볼루션 결과를 합산하여, 맨 앞(시작 위치 0)부터 $N-1$ 위치까지 승수 중 최댓값 출력

---

## 3. 테스트 케이스 정리

아래와 같이 순수 텍스트 형태로 테스트케이스를 정리해 보았습니다. 확인해 보시고, 수정할 부분이나 추가 설명이 필요하시면 알려주세요! 😊

---

테스트케이스 1
입력

```
12 4
RSPPSSSRRPPR
RRRR
```

출력

```
3
```

설명

* 머신 문자열 `RSPPSSSRRPPR`에서 연속으로 4글자를 선택해 플레이어 문자열 `RRRR`와 대결
* 플레이어 `R`는 머신의 `S`를 이김 → 해당 구간에 `S`가 3개 있는 위치에서 최대 3승

---

테스트케이스 2
입력

```
12 3
RRRRRRRRRRRR
SSS
```

출력

```
0
```

설명

* 머신이 모두 `R`이고 플레이어가 모두 `S`일 때, `S` vs `R`는 플레이어 패배 → 모든 경우 0승

---

테스트케이스 3
입력

```
12 4
PPPRRRRRRRRR
RSSS
```

출력

```
2
```

설명

* 플레이어 `R S S S`와 대결
* 머신의 `P` vs 플레이어 `R`(패), `P` vs `S`(승) 조합 → 적절한 시작 위치에서 최대 2승

---

테스트케이스 4
입력

```
12 4
RRRRRRRRRSSS
RRRS
```

출력

```
3
```

설명

* 플레이어 `R R R S`와 대결
* 머신의 `S` vs 플레이어 `R`가 승리 조건 → 끝부분 `SSS` 구간에서 3승

---
